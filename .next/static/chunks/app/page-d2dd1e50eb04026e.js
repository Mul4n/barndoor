(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1660:function(e,n,r){Promise.resolve().then(r.bind(r,8308))},5150:function(e,n,r){"use strict";r.d(n,{N:function(){return t},p:function(){return l}});let l={undefined:"",1:"bg-green-500/30 rounded-full border-2 border-solid border-green-500",2:"bg-blue-500/30 rounded-full border-2 border-solid border-blue-500",3:"bg-red-500/30 rounded-full border-2 border-solid border-red-500"},t=["bg-yellow-500","bg-orange-500","bg-blue-500","bg-red-500","bg-black","bg-white"]},8308:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return N}});var l=r(7437),t=r(1733),o=r(9806),s=r(511),i=r(335),c=r(2674),d=r(8027),a=r(6645),u=r(8884),h=r(1096),b=r(9102),j=r(8784),x=r(6548),f=r(7116),p=r(6351),Z=r(16),g=r(6679),k=r(7266),m=r(3657),w=r(6463),C=r(2265),v=r(5150);function _(){let e="http://raspberrypi.local/shed/",[n,r]=(0,C.useState)([]),[f,p]=(0,C.useState)(null);(0,C.useEffect)(()=>{(async()=>{let{data:e}=await (await fetch("".concat("http://raspberrypi.local/shed/","boulders"))).json();r(e)})()},[]);let k=(0,w.useRouter)(),m=async l=>{await (await fetch("".concat(e,"/boulders/").concat(l),{method:"DELETE",headers:{"Content-Type":"application/json"}})).json(),r(n.filter(e=>e._id!==l))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.Z,{position:"static",children:(0,l.jsxs)(o.Z,{variant:"dense",className:"justify-between",children:[(0,l.jsx)(s.Z,{className:"font-freshman",variant:"h6",color:"inherit",component:"div",children:"BarnBoard"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.Z,{color:"inherit",onClick:()=>{k.push("/boulder/new")},children:(0,l.jsx)(Z.Z,{})}),(0,l.jsx)(i.Z,{color:"inherit",onClick:()=>{fetch("".concat(e,"leds/off"))},children:(0,l.jsx)(g.Z,{})})]})]})}),(0,l.jsx)(c.Z,{component:d.Z,children:(0,l.jsx)(a.Z,{"aria-label":"simple table",children:(0,l.jsx)(u.Z,{children:n.map(e=>(0,l.jsx)(y,{boulder:e,onDelete:p},e._id))})})}),(0,l.jsxs)(h.Z,{open:!!f,onClose:()=>p(null),children:[(0,l.jsxs)(b.Z,{children:['Do you really want to delete "',null==f?void 0:f.name,'" ?']}),(0,l.jsxs)(j.Z,{children:[(0,l.jsx)(x.Z,{onClick:()=>{m(f._id),p(null)},children:"Delete"}),(0,l.jsx)(x.Z,{onClick:()=>{p(null)},children:"Cancel"})]})]})]})}function y(e){let{boulder:n,onDelete:r}=e,{name:t,grade:o,_id:s}=n,c=(0,w.useRouter)();return(0,l.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(p.Z,{className:"cursor-pointer hover:bg-slate-400 hover:transition-all",onClick:()=>c.push("/boulder/".concat(s)),component:"th",scope:"boulder",children:t}),(0,l.jsx)(p.Z,{align:"center",children:(0,l.jsx)("div",{className:"w-5 h-5 ".concat(v.N[parseInt(o)]," rounded-full ").concat("5"!==o?"text-white":"text-black border-2 border-black"),children:parseInt(o)+1})}),(0,l.jsxs)(p.Z,{align:"right",children:[(0,l.jsx)(i.Z,{onClick:()=>c.push("/boulder/".concat(n._id,"?edit")),children:(0,l.jsx)(k.Z,{})}),(0,l.jsx)(i.Z,{onClick:()=>{r(n)},children:(0,l.jsx)(m.Z,{})})]})]})}function N(){return(0,l.jsx)(_,{})}}},function(e){e.O(0,[88,194,316,971,23,744],function(){return e(e.s=1660)}),_N_E=e.O()}]);